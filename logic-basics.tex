\section{Базовые понятия}

\term{Высказыванием} мы будем называть любую осмысленную фразу русского языка. Например: «На улице идёт дождь», «Девки гуляют по улице», <<Вася тонировал свою \glqqшестёрку\grqq>>. В рамках науки математической логики мы правда ограничимся лишь теми высказываниями, про которые можно однозначно судить, \term{истинны} они или \term{ложны} (мы можем этого не знать, но важно, что сама постановка фразы допускает однозначную трактовку высказывания).

Истинные высказывания мы будем обозначать символом $1$, а ложные~--- символом $0$. В общем-то, нас даже не будет интересовать сам физический смысл высказывания, лишь его истинность~--- справедливость всех логических законов и операций, о~которых мы будем говорить, не зависит от содержания самих высказываний и оперирует лишь с понятием истинности.

Сами высказывания мы будем обозначать какими-нибудь буквами какого-нибудь алфавита (использовать ли заглавные или строчные, английские или греческие символы, совершенно не принципиально~--- в разных частях курса мы будем использовать разные соглашения, исходя из соображений удобства). Например, запись $a = 1$ обозначает, что $a$~--- это некоторое истинное высказывание. Повторюсь, что смысл высказывания нас не интересует, оно может быть по сути любым, лишь бы было истиной.

Определим теперь простейшие логические операции (они же называются логическими связками). Пусть для начала высказывание $a$ имеет конкретный смысл «на улице идёт дождь», а высказывание $b$ имеет смысл «на улице много машин». К этим двум высказываниям можно применить логическую связку (операцию) «И», и в итоге мы получим высказывание «на улице идёт дождь и много машин».

На языке математики логическая связка «И» обозначается символом $\land$, а результат применения этой связки к нашим двум высказываниям записывается как $a\land b$. (Вообще научно «И» \mbox{также} называется \term{конъюнкцией}, но это знать и помнить совершенно не обязательно.) Давайте теперь рассмотрим истинность этого высказывания. Если это правда, что на улице много машин, и также правда, что на улице идет дождь, то и наше высказывание «на улице много машин и идёт дождь» будет правдой. Если же хотя бы одно из этих утверждений ложно, то и наша фраза $a \land b$ будет ложной: если на улице нет дождя, то не является правдой и составное высказывание «на улице идёт дождь и много машин».

Определение логической связки «И» можно резюмировать следующей таблицей:

\begin{table}[h]
\centering
\begin{tabular}{c c | c}
$a$ & $b$ & $a \land b$ \\
\hline
0 & 0 & 0 \\
0 & 1 & 0 \\
1 & 0 & 0 \\
1 & 1 & 1
\end{tabular}
\caption{Определение логической связки <<И>>}\label{table:logic-and}
\end{table}


Подобные таблицы называются таблицами истинности. В них перечислены все возможные логические значения интересующих нас высказываний и результат применения к ним логической связки. Что-то типа таблицы умножения.

В полной аналогии с операцией «И» можно определить следующие базовые операции:

\begin{itemize}
\item Операция «ИЛИ», она же «И/ИЛИ», она же \term{дизъюнкция} (запоминать это слово не нужно), обозначается как $\lor$. Выражение $a\lor b$ истинно, когда истинно хотя бы одно из высказываний $a$ или $b$.
\item Операция «Исключающее ИЛИ», по-английски называется «eXclusive OR», или кратко «XOR». По-русски её для краткости часто называют «ксор» или --- в глагольной форме --- «ксорить», хотя слово это, конечно, сленговое и совершенно непечатное. Обозначается данная операция как $\oplus$. Высказывание $a \oplus b$ истинно только тогда, когда истинно лишь одно из высказываний $a$ или $b$, но не оба сразу.
\item Операция «Эквиваленция». Обозначается как $a \leftrightarrow b$. Высказывание $a \leftrightarrow b$ истинно, когда $a$ и $b$ либо одновременно истинны, либо одновременно ложны.
\item Операция «НЕ», она же «Отрицание». Обозначается как $\neg$. Высказывание $\neg a$ истинно тогда, когда $a$ ложно, и наоборот.
\item Операция <<Импликация>>, она же <<Следствие>>. Обозначается как $a \to b$. Высказывание $a \to b$ истинно либо когда одновременно и $a$, и $b$ истинны, либо когда $a$ ложно.
\end{itemize}

Всё сказанное, возможно, станет более понятно, когда мы выразим все операции одной таблицей истинности:

\begin{table}[h]
\centering
\begin{tabular}{cc|cccccc}
$a$ & $b$ & $a\land b$ & $a\lor b$ & $a\oplus b$ & $a\leftrightarrow b$ & $\neg a$ & $a \to b$\\
\hline
0 & 0 & 0 & 0 & 0 & 1 & 1 & 1 \\
0 & 1 & 0 & 1 & 1 & 0 & 1 & 1 \\
1 & 0 & 0 & 1 & 1 & 0 & 0 & 0 \\
1 & 1 & 1 & 1 & 0 & 1 & 0 & 1
\end{tabular}
\caption{Сводная таблица истинности логических операций}
\end{table}

Обратите внимание на то, что в естественном языке фраза «на улице идёт дождь или много машин» не особо хорошо определена~--- непонятно, имеется ли в виду «или то, или другое» (исключающее <<ИЛИ>>), или же «и то, и другое». В математике эти два смысла строго разграничены операциями $\lor$ и $\oplus$.

Также стоит уточнить смысл операции эквиваленции~--- она в~действительности ничего не говорит о реальной связи между высказываниями, лишь об их истинности. Так, любые два заведомо ложных высказывания оказываются эквивалентны: «Компьютеры не умеют умножать числа» $\leftrightarrow$ «Солнце вращается вок\-руг Земли». То же и с заведомо истинными высказываниями: «Компьютеры считают лучше людей» $\leftrightarrow$ «Земля вращается вок\-руг Cолнца». Это может несколько сбивать с толку поначалу, но более ясен смысл эквиваленции станет несколько позже, когда мы будем говорить о моделях.

Определение импликации может показаться довольно непонятным, по крайней мере сразу не ясно, почему именно при ложном $a$ должно быть истинно любое следствие $a\to b$. Такое определение действительно не слишком логично, и причины такого определения связаны скорее не с самой логикой, а с формальной необходимостью. Откуда растут корни именно такого \mbox{определения,} мы рассматрим в следующем параграфе, а также в двух параграфах о теориях, а пока же примем определение импликации просто как есть и будем относиться к ней как к~арифметической операции без какой-либо специальной мотивации.

Используя перечисленные операции, можно задавать и довольно сложные высказывания, например, что-то вроде такого:
$$
((a \lor b) \leftrightarrow (c \land a)) \oplus b.
$$

Круглыми скобками мы обозначаем порядок, в котором выполняются операции. Если для каждого из высказываний $a$, $b$ и~$c$ определить, истинно оно или ложно, то по таблице истинности можно определить, истинно ли всё высказывание.

Пусть, например, $a$ истинно, а $b$ и $c$ ложны. Тогда, подставив вместо этих высказываний $1$ и $0$ в приведённую формулу и воспользовавшись правилами из таблицы истинности, можно установить истинность и всего высказывания:
$$
((1 \lor 0) \leftrightarrow (0 \land 1)) \oplus 0 = (1 \leftrightarrow 0) \oplus 0 = 0 \oplus 0 = 0.
$$

В итоге наше высказывание оказалось ложно при данных значениях истинности для $a$, $b$ и $c$. Если же, например, все три высказывания будут ложными, то всё высказывание окажется истинным:
$$
((0 \lor 0) \leftrightarrow (0 \land 0)) \oplus 0 = (0 \leftrightarrow 0) \oplus 0 = 1 \oplus 0 = 1.
$$

Приведённые примеры уже больше напоминают какую-то скорее безумную арифметику с двумя цифрами, нежели логику, и наделить каким-то бытовым смыслом приведённые формулы, кажется, уже сложно, но подобные примеры необходимы для того, чтобы понять, как вообще со всеми этими понятиями работать. Позже мы будем рассматривать более осмысленные примеры, пока же мы слишком мало знаем и привести что-то осмысленное сложно.

Однако пора доказать нашу первую теорему.

\begin{thm} Для логических операций справедливы следующие законы:

\subparagraph{Ассоциативность:}
\begin{enumerate}
\item $(a \land b) \land c = a \land (b \land c)$,
\item $(a \lor b) \lor c = a \lor (b \lor c)$,
\item $(a \oplus b) \oplus c = a \oplus (b \oplus c)$.
\end{enumerate}

\subparagraph{Коммутативность:}
\begin{enumerate}
\item $a \land b = b \land a$,
\item $a \lor b = b \lor a$,
\item $a \oplus b = b \oplus a$,
\item $a \leftrightarrow b = b \leftrightarrow a$.
\end{enumerate}

\subparagraph{Дистрибутивность:}
\begin{enumerate}
\item $a \land (b \lor c) = (a \land b) \lor (a \land c)$,
\item $a \lor (b \land c) = (a \lor b) \land (a \lor c)$,
\item $a \land (b \oplus c) = (a \land b) \oplus (a \land c)$.
\end{enumerate}

\subparagraph{Двойное отрицание:}
\begin{enumerate}
\item $\neg\neg a = a$.
\end{enumerate}

\subparagraph{Закон исключенного третьего:}
\begin{enumerate}
\item $a \lor \neg a = 1$,
\end{enumerate}

\subparagraph{Закон противоречия:}
\begin{enumerate}
\item $a \land \neg a = 0$,
\end{enumerate}

\subparagraph{Законы де Моргана:}
\begin{enumerate}
\item $\neg (a \land b) = (\neg a) \lor (\neg b)$,
\item $\neg (a \lor b) = (\neg a) \land (\neg b)$.
\end{enumerate}

\subparagraph{Ещё по мелочам:}
\begin{enumerate}
\item $a \land 1 = a$,
\item $a \land 0 = 0$,
\item $a \lor 1 = 1$,
\item $a \lor 0 = a$,
\item $a \oplus 0 = a$,
\item $a \oplus 1 = \neg a$,
\item $\neg (a \oplus b) = (a \leftrightarrow b)$,
\item $a \oplus \neg a = 1$,
\item $a\land a = a$,
\item $a \lor a = a$,
\item $a \oplus a = 0$,
\item $a \land (\neg a \lor b) = a \land b$,
\item $a \lor (\neg a \land b) = a \lor b$.
\end{enumerate}

\subparagraph{Для импликации:}
\begin{enumerate}
\item $a \rightarrow b = b \vee \neg a$
\item $\neg(a \rightarrow b) = a \wedge \neg b$
\item $a \rightarrow a$
\item $a \leftrightarrow b = (a \rightarrow b) \wedge (b\rightarrow a)$
\item Транзитивность: $((a \rightarrow b) \wedge (b \rightarrow c)) \rightarrow (a \rightarrow c)$
\item $(a \vee b) \wedge (\neg a \vee c) \rightarrow b \vee c$
\item $(a \rightarrow b \wedge c) \rightarrow (a \rightarrow b)$
\item $a \rightarrow b = \neg b \rightarrow \neg a$
\end{enumerate}
\end{thm}

\begin{proof}
Каждую из формул я доказывать не буду, поскольку все они доказываются аналогично и я настоятельно рекомендую провести доказательство самостоятельно. Я лишь продемонстрирую на отдельных примерах, как это делается.

Подходов тут существует три:
\begin{itemize}
\item Интуитивный. Ассоциативность и коммутативность операций «И» и «ИЛИ» на самом деле очевидна. Вообще, конечно, говорить «очевидно» в математике мы не имеем права, поскольку очевидное часто оказывается неверным и наоборот. Однако в подобных совсем уж тривиальных случаях строго доказывать каждую теорему будет утомительно. Если утверждение теоремы у вас не вызывает сомнения, и вы знаете, как его можно строго проверить~--- можно и не париться.
\item Выводить одно из другого, применяя к начальной формуле другие сформулированные нами формулы. Например, вот как можно вывести последнюю формулу в нашем списке, воспользовавшись дистрибутивностью:
$$
a \lor (\neg a \land b) = (a \lor \neg a) \land (a \lor b) = 1 \land (a \lor b) = a \lor b.
$$

\item Самый тупой и простой способ~--- просто перебрать все возможные варианты, построив таблицу истинности. В таблице 1.3 демонстрируется, как таким образом возможно доказать закон дистрибутивности. Собственно, что и требовалось доказать (следующий за этим предложением значок будет всегда в дальнейшем означать конец доказательства).

\begin{table}[h]
\centering
\begin{tabular}{ccc|cc|ccc}
$a$&$b$&$c$&$b\lor c$&$a\land(b\lor c)$&$a\land b$&$a\land c$&$(a\land b)\lor(a\land c)$\\
\hline
0&0&0&0&0&0&0&0\\
0&0&1&1&0&0&0&0\\
0&1&0&1&0&0&0&0\\
0&1&1&1&0&0&0&0\\
1&0&0&0&0&0&0&0\\
1&0&1&1&1&0&1&1\\
1&1&0&1&1&1&0&1\\
1&1&1&1&1&1&1&1
\end{tabular}
\caption{Доказательство дистрибутивности логических операций}
\end{table}

\end{itemize}
\end{proof}

К сожалению, то, что перебор нам тут помог доказать что-то~--- редкое исключение. Кроме как для почти тривиальных логических соотношений метод перебора в математике не годится, поскольку обычно перебирать придётся слишком много значений, с чем никакой компьютер не справится. И это в лучшем случае~--- часто значений, которые придётся перебрать, будет вооб\-ще беско\-неч\-но много, или даже ещё больше.

Из приведённой теоремы важно выделить законы ассоциативности и дистрибутивности. Закон ассоциативности по сути утверждает, что для перечисленных операций не важно, в каком порядке расставлять скобки и, соответственно, применять операции (чуть более строго мы это обсудим в третьей главе). По этой причине круглые скобки для ассоциативных операций можно вооб\-ще опускать, и следующие выражения оказываются совершенно равнозначны:
$$
(a \lor (b \lor c)) \lor d = (a \lor b) \lor (c \lor d) = a \lor b \lor c \lor d
$$

Закон коммутативности же означает, что нам не важен порядок участвующих в выражении высказываний. В совокупности с ассоциативностью это говорит также, что мало того, что мы можем опускать скобки, мы ещё и порядок можем путать:
$$
(a \lor (b \lor c)) \lor d = b \lor d \lor c \lor a.
$$

На фоне этого может оказаться странным поведение эквиваленции. Как легко убедиться, если построить таблицу истинности, операция эквивалентности тоже является ассоциативной:
$$
(a \leftrightarrow b) \leftrightarrow c = a \leftrightarrow (b \leftrightarrow c).
$$

Тем не менее, если мы будем применять её в таком виде, опустив круглые скобки, то результат может оказаться неожиданным:
$$
(1 \leftrightarrow 0 \leftrightarrow 0) = ((1 \leftrightarrow 0) \leftrightarrow 0) = (0 \leftrightarrow 0) = 1.
$$

Это несколько противоречит интуитивному представлению о понятии «эквивалентность». Нам хотелось бы иметь возможность писать $a \leftrightarrow b \leftrightarrow c$ и ожидать, что данное высказывание будет истинным лишь в том случае, когда все три высказывания либо одновременно истинны, либо одновременно ложны. Это было бы логично.

В математике так и поступают. Если в последовательных операциях эквивалентности не указываются скобки, то имеется в виду следующее:
$$
a \leftrightarrow b \leftrightarrow c = (a \leftrightarrow b) \land (b \leftrightarrow c).
$$

Именно по этой причине закон ассоциативности для эквивалентности обычно не рассматривается. Такая странность возникает из-за некоторой неточности привычного человеческого языка, когда мы, произнося одни и те же слова, можем иногда подразумевать довольно разные логические операции. Это во многом сродни неточности слова «или»: из-за этого нам пришлось разграничивать операции $\lor$ и $\oplus$. Здесь нет никакого парадокса или противоречия~--- это просто надо иметь в виду.

Также замечания заслуживает закон де Моргана. Он на самом деле обобщается на любое количество высказываний. Для примера продемонстрируем простейшую ситуацию:
$$
\neg(a \lor b \lor c) = \neg(a \lor (b \lor c)) = \neg a \land \neg (b \lor c) = \neg a \land \neg b \land \neg c.
$$

Аналогично можно распространить этот закон на любое количество высказываний (даже бесконечное). Как это сделать строго математически, мы обсудим в дальнейшем в нашем курсе, пока же можно просто попробовать развить какую-то интуицию относительно этого закона.

Пусть высказывание $a$ означает, что Тане нравятся бритые мальчики, а высказывание $b$ означает, что Тане нравятся мальчики в спортивных штанах. Предположим, однако, что Таня не дура какая-нибудь, и для неё верно высказывание:
$$
\neg(a \land b) = \text{«Тане не нравятся бритые мальчики в спортштанах»}
$$

(На всякий случай сообщу, что автор текста сам бреется налысо и имеет в гардеробе зауженные спортштаны.)

Приведённое высказывание, однако, не подразумевает, что Тане не подойдёт бритый мужчина в костюме, или же патлатый спортсмен~--- данное высказывание говорит лишь о том, что для нее неприемлемо сочетание «лысый + спортштаны». Довольно косноязычно, но можно всё же утверждать следующее:

\begin{quote}
«Таню устроил бы парень, который хотя бы не лысый или хотя бы не носит спортштаны».
\end{quote}

Если вдуматься, то это ровно та же самая фраза, которую мы назвали первоначально, но она просто перефразирована. И она дословно выражается как $\neg a \lor \neg b$, а это как раз то, что мы ожидали получить по закону де Моргана. Если добавить к первоначальным двум высказываниям ещё какие-то высказывания, характеризующие предпочтения Тани, то мы получили бы тот же закон де Моргана, но уже для многих высказываний.

Подобные интуитивные соображения можно придумать для любой формулы нашей первой теоремы, и хорошо бы это проде\-лать~--- это полезно. С тем же законом де Моргана я впервые столкнулся лет 10 назад (правда не в мат. логике, а в теории вероятностей, которую я пытался читать без какой-либо начальной подготовки), и в книжке, которую я читал, всё, что о нём было сказано, что это «очевидно». Сейчас уже стыдно признаваться, но над этим «очевидным» утверждением мне тогда пришлось поломать голову, прежде чем я смог согласиться с автором в том, что это действительно так.

Из всего списка приведённых в теореме 1.1 утверждений интересно выделить те, что касаются импликации. При том, что таблица истинности для импликации может показаться довольно странной,  она обладает весьма логичными свойствами, которые характерны для интуитивного понятия <<следствия>>. Например, закон транзитивности является отражением простого логического закона: если из $a$ следует $b$, а из $b$ следует $c$, то из $a$ следует $c$. Аналогично равенство $a \rightarrow b = \neg b \rightarrow \neg a$ означает, что если из $a$ следует $b$, и нам известно, что $b$ ложно, то отсюда следует ложность $a$. Таким образом, введённое определение импликации действительно в каком-то смысле отражает операцию <<следствие>>, как мы её понимаем на интуитивном уровне. Эти идеи мы будем развивать в следующих параграфах.

Читателю же я рекомендую доказать каждую из формул приведённой теоремы и продумать больше не над самим фактом справедливости формулы, а над интуитивной интерпретацией.


