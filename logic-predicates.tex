\section{Предикаты и кванторы}

{\bfseries Определение.} {\slshape Множеством} мы будем называть неупорядоченный набор различимых объектов, называемых {\slshape элементами} множества.

Например, можно рассматривать множество всех людей на земле, множество предложений русского языка, множество моделей автомобилей и так далее.

Запись $x \in S$ означает, что элемент $x$ {\slshape принадлежит} множеству $S$ (является членом множества). Отрицание этого высказывания $\neg (x\in S)$ обозначается как $x\not \in S$ и обозначает, что $x$ не принадлежит множеству $S$.

Пара примеров:

«Света из Иваново» $\in$ «Множество людей»

«Света из Иваново» $\not\in$ «Множество марок автомобилей»

Рассмотрим высказывание $P =$ «Василий Тягин — потомок Васи Квакина». Мы можем сформулировать подобные высказывания на самом деле для любых двух людей, и это высказывание будет ложным либо истинным в зависимости от того, кого конкретно мы назвали в высказывании. Реализуем эту идею заменой конкретных имен {\slshape переменными}:

$P(x, y) = $ «$x$ — потомок $y$»

Подставляя вместо $x$ и $y$ конкретных людей мы получим истинное или ложное высказывание.

Выражения типа $P(x, y)$ называются {\slshape предикатами}. Предикаты не обязательно могут иметь два параметра — их число может быть произвольным.

{\bfseries Определение.} Множество $A$ называется {\slshape подмножеством} множества $B$ (обозначение $A \subset B$), если любой элемент из $A$ содержится так же и в множестве $B$.

Например, множество всех мужчин является подмножеством множества всех людей, а множество учеников 6 «Б» класса школы №469 является подмножеством всех школьников, которое в свою очередь так же является подмножеством всех людей.

Понятия подмножества и предиката находятся в тесной взаимосвязи. С одной стороны, любой предикат определяет подмножество: если $P(x)$ определен на множестве $A$, то множество элементов, для которых $P(x)=1$ образует подмножество множества $A$, которое обозначается как $\{x\in A|P(x)=1\}$.

С другой стороны, если нам задано $A \subset B$, то мы всегда можем определить предикат $P(x) = (x\in A)$, который будет однозначно характеризовать подмножество $A$.

Таким образом если $A$ — множество всех мужчин, $B$ — множество всех людей, то это подмножество находится во взаимооднозначном соответствии с предикатом $P(x)$, который истинен тогда, когда $x$ — мужчина.

Предположим теперь, что некоторый предикат $P(x)$ подразумевает, что в качестве $x$ в него можно подставлять элементы множества $S$.

{\bfseries Определение.} Запись $\forall x\in S, P(x)$ означает, что высказывание $P(x)$ истинно для всех элементов $x \in S$.

{\bfseries Определение.} Запись $\exists x\in S, P(x)$ означает, что существует такой элемент $x\in S$ для которого $P(x)$ истинно.

Символ $\forall$ называется квантором всеобщности, а символ $\exists$ квантором существования.  Само слово «квантор» переводится на английский как «quantifier» (и является однокоренным с ним), которое в свою очередь происходит от «quantity», что переводится как «количество».

{\bfseries Пример.} Пусть $H$ — множество людей. Предикат $A(x, y)$ означает, что $x$ является предком $y$. Тогда запись $\forall y\in H \exists x \in H, A(x, y)$ читается как «для любого человека $x$, найдется такой человек $y$, что он будет предком для $x$», или более по-людски: «У любого человека есть предок».

{\bfseries Пример.} Пусть $K$ — множество ключей и $L$ — множество замков. Высказывание $O(k, l)$ означает, что ключ $k$ открывает замок $l$. Тогда запись $\forall l\in L \exists k \in K, O(k, l)$ означает, что для каждого замка найдется ключ.

Когда из контекста и так понятно какие множества имеются ввиду, то указание на конкретное множество, из которого выбирается переменная, не обязательно. В дальнейшем мы будем часто опускать указание множества после квантора.

Важно заметить, что порядок, в котором мы задаем кванторы для переменных, очень существенен. Если бы в прошлых примерах мы поменяли порядок следования кванторов, то смысл этих записей резко изменился бы. Так, запись $\exists x \forall y \in H, A(x, y)$ означает, что существует некоторый человек, который является потомком для любого другого человека (то есть фактически это библейское утверждение о «первом человеке», что-то вроде Адама), а запись $\exists k \forall l, O(k, l)$ означает, что существует ключ, который открывает все замки.

Эта оговорка относится лишь к случаю смены порядка для последовательных кванторов разного вида. В то же время можно утверждать, что, например, $\forall x \forall y, P(x, y) = \forall y \forall x, P(x, y)$ и аналогично для квантора существования. Интуитивно это можно понять из такого примера: $x$ принадлежит множеству мужчин, $y$ принадлежит множеству женщин, а $P(x, y)$ обозначает, что $x$ может теоретически женится на $y$. Очевидно, что в каком порядке мы указываем кванторы всеобщности, в данном случае совершенно не важно.

Самое распространенное и часто применяемое свойство кванторов — это закон де Моргана, который на этот раз формулируется так:

\begin{enumerate}
\item   $\neg \exists x, P(x) = \forall x, \neg P(x)$
\item   $\neg \forall x, P(x) = \exists x, \neg P(x)$
\end{enumerate}

В принципе для этого закона можно придумать нечто вроде доказательства. Пусть $A = \{a, b, \ldots, z\}$ — некоторое конечное множество. Тогда, очевидно, запись с кванторами можно представить  следующим образом:

\begin{enumerate}
\item   $\forall x \in A, P(x) = P(a) \wedge P(b) \wedge \ldots \wedge P(z)$
\item   $\exists x \in A, P(x) = P(a) \vee P(b) \vee \ldots \vee P(z)$
\end{enumerate}

Отрицание обоих частей этих равенств и применение привычного нам закона де Моргана даёт нам желаемый результат.

Проблема с этим рассуждением в том, что сами множества могут состоять из бесконечно большого числа элементов, и тогда мы не сможем так запросто расписать наш квантор. Тем не менее, правило де Моргана довольно интуитивно понятно (если вы, конечно, последовали моему совету в первом параграфе). Например, первое правило можно словами проговорить так: если неверно, что для любого $x$ выполняется $P(x)$, то существует хотя бы один $x$, для которого этого нарушается. А это уже довольно очевидно, и поэтому правила де Моргана мы можем принять за аксиомы. А для неверующих в дальнейшем я всё же покажу, как можно избавиться от ограничения в виде «не можем расписать квантор для бесконечного множества». Но это однако будет сильно позже.



\begin{exercise} Докажите (не обязательно строго, возможно интуитивным рассуждением) следующие соотношения:
\begin{enumerate}
\item   $\forall x, (P(x) \wedge Q(x)) = (\forall x, P(x))\wedge (\forall x, Q(x))$
\item   $\exists x, (P(x) \vee Q(x)) = (\exists x, P(x))\vee (\exists x, Q(x))$
\item   $\forall x, (P(x) \wedge Q) = (\forall x, P(x))\wedge Q$
\item   $\exists x, (P(x) \wedge Q) = (\exists x, P(x))\wedge Q$
\item   $\forall x, (P(x) \vee Q) = (\forall x, P(x))\vee Q$
\item   $\exists x, (P(x) \vee Q) = (\exists x, P(x))\vee Q$
\end{enumerate}
\end{exercise}

В качестве примера приложения этих формул докажем такую не сложную теорему:

\begin{thm}$\forall x, (P(x)\to Q) = (\exists x, P(x))\to Q$.\end{thm}
\begin{proof}Всё совершенно прямолинейно:
\begin{align*}
\forall x, (P(x)\rightarrow Q) &= \forall x, (\neg P(x) \vee Q)\\
 &= (\forall x, \neg P(x)) \vee Q \\
&= (\neg\exists x, P(x))\vee Q\\
 &= (\exists x, P(x))\rightarrow Q
\end{align*}\end{proof}

\begin{exercise}Докажите что  $$\forall x, (P\to Q(x)) = P\to (\forall x, Q(x)).$$\end{exercise}

\begin{exercise}Продемонстрируйте, что в остальных случаях квантор уже нельзя так запросто «выносить за скобки», то есть приведите примеры, когда отчётливо видно следующее:
\begin{enumerate}
\item   $\exists x,(P(x)\wedge Q(x))\not=(\exists x, P(x))\wedge (\exists x,Q(x))$
\item   $\forall x, (P(x) \vee Q(x)) \not= (\forall x, P(x))\vee (\forall x, Q(x))$
\item   $\forall x, (P(x) \oplus Q) \not= (\forall x, P(x))\oplus Q$
\item   $\exists x, (P(x) \oplus Q) \not= (\exists x, P(x))\oplus Q$
\end{enumerate}
\end{exercise}